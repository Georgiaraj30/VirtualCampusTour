<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Virtual Tour - Stella Maris College Entrance</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background: #000;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        a-scene {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
.sidebar {
    position: fixed;
    top: 100px;
    left: 0;
    width: 200px;
    height: 60%;
    background-color: rgba(3, 138, 252,0.8); 
    z-index: 20; 
    box-shadow: 4px 0 6px rgba(0, 0, 0, 0.2);
    overflow-y: auto; 
    scrollbar-width: thin; 
    scrollbar-color: rgba(255, 255, 255, 0.7) transparent; 
}
.sidebar::-webkit-scrollbar {
    width: 8px; 
}
.sidebar::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: 4px; 
}
.sidebar::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.9); 
}
.sidebar::-webkit-scrollbar-track {
    background: transparent; 
}
.sidebar a {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            font-size: 1.2rem;
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        .sidebar a img.sidebar-image {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3);
            margin-bottom: 5px;
        }
        .sidebar a:hover {
            color: rgb(216, 190, 19);
            background-color: rgba(255, 255, 255, 0.2);
        }
        .sidebar a.active {
            background-color: rgba(255, 193, 7, 1);
            color: white;
        }
        header {
            background-color: white;
            color: white;
            padding: 10px 20px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 30;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            flex-wrap: wrap;
        }
        header::after {
            content: "";
            display: block;
            width: 100%;
            height: 7px;
            background-color: #fcba03;
            position: absolute;
            bottom: -4px;
            left: 0;
        }
        header::before {
    content: "";
    display: block;
    width: 100%;
    height: 7px; 
    background-color:#0388fc; 
    position: absolute;
    top: 0px;
    left: 0;
}
.logo-container img {
            height: 50px;
        }
        nav {
            flex-grow: 1;
            text-align: center;
        }
        .nav-links {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }
        .nav-links li {
            margin: 0 15px;
            position: relative;
        }
        .nav-links a {
            color: #68b1f0;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
        }
        nav ul li ul {
    position: absolute;
    top: 100%; 
    left: 0;
    z-index: 1000; 
    background-color: #fff; 
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
}
        .dropdown-menu {
            display: none;
            position: absolute;
            background-color: rgba(3, 138, 252,0.8);
            list-style: none;
            padding: 10px 0;
            border-radius: 5px;
            top: 100%;
            left: 0;
            min-width: 180px;
            max-height: 520px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .dropdown-menu li {
            padding: 8px 20px;
        }
        .dropdown-menu li a {
            color: white;
        }
        .dropdown:hover .dropdown-menu {
            display: block;
        }
        .share-btn {
            background-color: #0388fc;
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 14px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 30px;
        }
        a-scene {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        .right-arrow{

    position: fixed; 
    bottom: 20px;    
    right: 20px;     
    z-index: 50;    
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    text-align: center;
}
.straight{
    position: fixed; 
    bottom: 100px;    
    left: 500px;    
    z-index: 50;     
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    text-align: center;
}
.arrow-text {
    color: white;
    font-size: 1rem;
    text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.8);
    margin-top: 5px;
}
.audio-logo {
            position: absolute;
            transform: translate(-50%, -50%);
            width: 50px; 
            height: 50px;
            cursor: pointer;
            margin-top: 10px;
            margin-left:1200px ;
            padding-left: 20px;
        }
#audioModal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: block; 
        }
        .btn {
            margin: 10px;
            padding: 10px 20px;
            border: none;
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
        }
        .btn:hover {
            background-color: #0056b3;
        }

        /* Mobile devices (max-width: 480px) */
@media (max-width: 480px) {
    .sidebar {
        width: 100px;
        height: 50%;
    }
    .sidebar a {
        font-size: 0.8rem;
        padding: 5px;
    }
    .sidebar a img.sidebar-image {
        width: 40px;
        height: 40px;
    }
    .audio-logo {
        width: 30px;
        height: 30px;
        margin-left: 80%;
    }
    header {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px;
    }
    .logo-container img {
        height: 35px;
    }
    .nav-links {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        width: 100%;
    }
    .nav-links li {
        margin: 5px 0;
    }
    .share-btn {
        align-self: flex-end;
        margin-top: 10px;
    }
    .right-arrow, .straight {
        left: 10px !important;
        right: 10px !important;
        bottom: 10px;
    }
}

/* Tablets (481px - 768px) */
@media (min-width: 481px) and (max-width: 768px) {
    .sidebar {
        width: 150px;
    }
    .sidebar a img.sidebar-image {
        width: 50px;
        height: 50px;
    }
    .audio-logo {
        margin-left: 90%;
    }
    header {
        flex-direction: row;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        padding: 10px 15px;
    }
    .logo-container img {
        height: 40px;
    }
    .nav-links {
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
    }
}

/* Small laptops (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
    .sidebar {
        width: 180px;
    }
    .audio-logo {
        margin-left: 95%;
    }
    header {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 15px 30px;
    }
    .logo-container img {
        height: 45px;
    }
    .nav-links {
        gap: 20px;
    }
}

/* Desktops (1025px and up) */
@media (min-width: 1025px) {
    .sidebar {
        width: 200px;
    }
    header {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 20px 40px;
    }
    .logo-container img {
        height: 50px;
    }
    .nav-links {
        gap: 25px;
    }
}

        
    </style>
</head>
<body>
    <div class="sidebar">
        <a href="tour.html" class="nav-link">
            <img src="images/gatelogo.jpg" alt="Entrance" class="sidebar-image">
            ENTRANCE
        </a>
        <a href="mblock.html" class="nav-link">
            <img src="images/mblocklogo.jpg" alt="mblock" class="sidebar-image">
            M-BLOCK
        </a>
        <a href="ablock.html" class="nav-link">
            <img src="images/ablocklogo.jpg" alt="ablock" class="sidebar-image">
            A-BLOCK
        </a>
        <a href="hblock.html" class="nav-link">
            <img src="images/hblocklogo.jpg" alt="hblock" class="sidebar-image">
            H-BLOCK
        </a>
        <a href="bank.html" class="nav-link">
            <img src="images/bank.jpg" alt="Bank" class="sidebar-image">
            BANK
        </a>
        <a href="fblock.html" class="nav-link">
            <img src="images/fblocklogo.jpg" alt="FBlock" class="sidebar-image">
            F-BLOCK
        </a>
        <a href="oat.html" class="nav-link">
            <img src="images/oatlogo.jpg" alt="oat" class="sidebar-image">
            OAT
        </a>
        <a href="cc.html" class="nav-link">
            <img src="images/cclogo.jpg" alt="ccblock" class="sidebar-image">
            CC-BLOCK
        </a>
        <a href="ncc.html" class="nav-link">
            <img src="images/ncclogo.jpg" alt="NCC" class="sidebar-image">
            NCC GROUND
        </a>
        <a href="hcblock.html" class="nav-link">
            <img src="images/hcblock.jpg" alt="hclock" class="sidebar-image">
            HC-BLOCK
        </a>
        <a href="pt.html" class="nav-link">
            <img src="images/ptlogo.jpg" alt="pt" class="sidebar-image">
            PET DEPT
        </a>
        <a href="ssblock.html" class="nav-link">
            <img src="images/ssblock.jpg" alt="SSBlock" class="sidebar-image">
            SS-BLOCK
        </a>
        <a href="bblock.html" class="nav-link">
            <img src="images/bblocklogo.jpg" alt="bblock" class="sidebar-image">
            B-BLOCK
        </a>
        <a href="greenhut.html" class="nav-link">
            <img src="images/greenhutlogo.jpg" alt="greenhut" class="sidebar-image">
            GREEN HUT
        </a>
        <a href="chapel.html" class="nav-link">
            <img src="images/chapellogo.jpg" alt="chapel" class="sidebar-image">
            CHAPEL
        </a>
    </div>
        <header>
            <div class="logo-container">
                <img src="images/logo.png" alt="Stella Maris College Logo" class="logo">
            </div>
            <nav>
                <ul class="nav-links">
                    <li class="dropdown">
                        <a href="#">Blocks ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="mblock.html">M-Block</a></li>
                            <li><a href="ablock.html">A-Block</a></li>
                            <li><a href="hblock.html">H-Block</a></li>
                            <li><a href="fblock.html">F-Block</a></li>
                            <li><a href="cc.html">CC-Block</a></li>
                            <li><a href="hc.html">HC-Block</a></li>
                            <li><a href="ssblock.html">SS-Block</a></li>
                            <li><a href="bblock.html">B-Block</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">Landmarks ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="tour.html">Entrance</a></li>
                            <li><a href="library.html">Library</a></li>
                            <li><a href="bank.html">Bank</a></li>
                            <li><a href="oat.html">OAT</a></li>
                            <li><a href="pt.html">PET</a></li>
                            <li><a href="greenhut.html">Green Hut</a></li>
                            <li><a href="whitehut.html">White Hut</a></li>
                            <li><a href="chapel.html">Chapel</a></li>
                        </ul>
                    </li>
            
                    <li class="dropdown">
                        <a href="#">Hostels ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="klemens.html">Klemens Hostel</a></li>
                            <li><a href="assisi.html">Assisi Hostel</a></li>
                            <li><a href="ourladys.html">Our Lady's Hostel</a></li>
                            <li><a href="snehalaya.html">Snehalaya Hostel</a></li>
                            <li><a href="nnblock.html">Nava Nirmana Hostel</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">Sports ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="basketball.html">BasketBall Ground</a></li>
                            <li><a href="volleyball.html">VolleyBall Ground</a></li>
                            <li><a href="ncc.html">NCC Ground</a></li>
                            <li><a href="pt.html">PET Dept</a></li>
                        </ul>
                    </li>
                    <li><a href="#" onclick="toggleMap()">Campus Map</a></li>
                </ul>
            </nav>
            <button class="share-btn" onclick="shareTour()">Share Tour</button>
        </header>
<audio id="backgroundAudio" loop>
<source src="audio/bg.mpeg" type="audio/mpeg">
Your browser does not support the audio element.
</audio>
<div style="position: fixed; bottom: 200px; right: -1px; z-index: 100;">
    <img id="musicToggle" 
        src="images/audioon.png" 
        alt="Toggle Music" 
        title="BACKGROUND MUSIC" 
        style="width: 100px; height: 100px; border-radius: 50%; cursor: pointer;" 
        onclick="toggleMusic()">
    </div>
 <a-scene embedded>
    <a-sky id="sky" src="images/gate.jpg"></a-sky>
    <a-image id="right-arrow" class="clickable" navigate 
        src="images/right-arrow.png" position="7 -1.5 -7" width="3" height="1">
    </a-image>
<a-text value="SHANTHI BHAVAN" id="bhavan" position="6 -2.2 -7" align="center" 
width="10" color="white" >
</a-text>
    <a-image id="straight-arrow" class="clickable" navigate 
        src="images/straight-arrow.png" position="-2 -1 -9" width="3.5" height="1">
    </a-image>
    <a-text value="M-BLOCK" id="main" position="-2 -1.8 -9" align="center" 
    width="13" color="white" >
    </a-text>
    <a-image id="left-arrow" class="clickable" navigate 
    src="images/h-left.png" position="-14 -6 -10" width="5" height="2">
</a-image>
<a-text value="BANK" id="bank" position="-12 -7.2 -10" align="center" 
width="15" color="white" >
</a-text>
<a-entity id="camera" camera look-controls>
<a-cursor id="cursor" raycaster="objects: .clickable" 
          cursor="fuse: false; rayOrigin: mouse" visible="false">
</a-cursor>
</a-entity>
</a-scene>
  <div style="position: fixed; bottom: 280px; right: -1px; z-index: 100;">
    <img src="images/locations.png" 
         alt="Location" 
         title="GOOGLE MAP" 
         style="width: 100px; height: 100px; border-radius: 50%;  cursor: pointer;" 
         onclick="showMap()">
</div>
<div style="position: fixed; bottom: 150px; right: 10px; z-index: 100;">
    <img src="images/360.jpg" 
         alt="360" 
         title="360 VIEW" 
         style="width: 80px; height: 50px; border-radius: 50%;  cursor: pointer;" 
         onclick="rotateSky()">
</div>
<div id="mapOverlay" 
style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 200;">
<iframe 
   id="googleMapIframe" 
   src="https://www.google.com/maps/embed/v1/place?key=AIzaSyC3PWeJ53YZFlMGGq6UmUZgwaV-Ea5Z5PA&q=Stella+Maris+College,+Chennai"
   style="width: 80%; height: 80%; border: none; position: absolute; top: 10%; left: 10%; border-radius: 10px;">
</iframe>
<button onclick="hideMap()" 
       style="position: absolute; top: 5%; right: 5%; padding: 10px 20px; font-size: 1.2rem; color: white; background: red; border: none; border-radius: 5px; cursor: pointer;">
   Close
</button>
</div>

<!-- Campus Map Image Container (Initially Hidden) -->
<div id="campus-map-container" 
     style="display: none; text-align: center;z-index: 101; position: relative;">
    <img src="images/map.jpg" alt="Campus Map" class="campus-map" style="max-width:50%; margin-top: 6.8%; height:50%;">
    <button onclick="toggleMap()" 
            style="margin-right: 280px;  position: absolute;margin-top: 50px; top: 10px; right: 10px; padding: 10px 20px; font-size: 1.2rem; color: white; background: red; border: none; border-radius: 5px; cursor: pointer;">
        X
    </button>
</div>


<script>

    // Function to toggle the visibility of the campus map when clicking the map logo
function toggleMap() {
    var mapContainer = document.getElementById("campus-map-container");
    // Toggle the display between none and block
    if (mapContainer.style.display === "none" || mapContainer.style.display === "") {
        mapContainer.style.display = "block"; // Show the map
    } else {
        mapContainer.style.display = "none"; // Hide the map
    }
}

function shareTour() {
    navigator.share({
        title: 'Stella Maris College Virtual Tour',
        url: 'https://georgiaraj30.github.io/VirtualCampusTour/index.html',
    });
}

document.addEventListener("DOMContentLoaded", function () {
    let musicPref = localStorage.getItem("musicEnabled");

    if (musicPref !== null) {
        document.getElementById("audioModal").style.display = "none"; 
        applyMusicPreference();
    } else {
        document.getElementById("audioModal").style.display = "block";
    }
});
function enableAudio(play) {
    let audio = document.getElementById("backgroundAudio");

    if (play) {
        localStorage.setItem("musicEnabled", "true"); 
        audio.play().catch(error => console.error("Audio playback failed:", error));
        document.getElementById("musicToggle").src = "images/audioon.png";
    } else {
        localStorage.setItem("musicEnabled", "false");
        document.getElementById("musicToggle").src = "images/audiooff.png";
    }
    document.getElementById("audioModal").style.display = "none"; 
}
function toggleMusic() {
    let audio = document.getElementById("backgroundAudio");
    let musicButton = document.getElementById("musicToggle");
    if (audio.paused) {
        audio.play();
        localStorage.setItem("musicEnabled", "true"); 
        musicButton.src = "images/audioon.png";
    } else {
        audio.pause();
        localStorage.setItem("musicEnabled", "false"); 
        musicButton.src = "images/audiooff.png";
    }
}
function applyMusicPreference() {
    let audio = document.getElementById("backgroundAudio");
    let musicButton = document.getElementById("musicToggle");
    let musicEnabled = localStorage.getItem("musicEnabled");
    if (musicEnabled === "true") {
        audio.play();
        musicButton.src = "images/audioon.png";
    } else {
        audio.pause();
        musicButton.src = "images/audiooff.png";
    }
}
window.onload = applyMusicPreference;
AFRAME.registerComponent('hover-effect', {
    init: function () {
        this.el.addEventListener('mouseenter', () => {
            document.querySelector('#cursor').setAttribute('material', 'color', 'yellow');
        });
        this.el.addEventListener('mouseleave', () => {
            document.querySelector('#cursor').setAttribute('material', 'color', 'white');
        });
    }
});
document.addEventListener('DOMContentLoaded', function () {
    const rightArrow = document.getElementById('right-arrow');
    const straightArrow = document.getElementById('straight-arrow');
    const leftArrow = document.getElementById('left-arrow');
    rightArrow.addEventListener('click', function () {
        window.location.href = 'shanthi.html';
    });
    straightArrow.addEventListener('click', function () {
        window.location.href = 'mblock.html';
    });
    leftArrow.addEventListener('click', function () {
        window.location.href = 'bankroad.html';
    });    
});
     function showMap() {
        document.getElementById('mapOverlay').style.display = 'block';
    }
    function hideMap() {
        document.getElementById('mapOverlay').style.display = 'none';
    }
    let isRotating = false; 
let currentRotation = 0; 
function rotateSky() {
    if (isRotating) return; 
    isRotating = true;
    const sky = document.getElementById('sky');
    const rightArrow = document.getElementById('right-arrow');
    const shanthi=document.getElementById('bhavan');
    const straightArrow = document.getElementById('straight-arrow');
    const mainblock=document.getElementById('main');
    const leftArrow = document.getElementById('left-arrow');
    const bankblock=document.getElementById('bank');
    rightArrow.setAttribute('visible', 'false');
    shanthi.setAttribute('visible','false');
    straightArrow.setAttribute('visible', 'false');
    mainblock.setAttribute('visible', 'false');
    leftArrow.setAttribute('visible', 'false');
    bankblock.setAttribute('visible', 'false');
    currentRotation += 360;
    sky.setAttribute('animation', {
        property: 'rotation',
        to: `0 ${currentRotation} 0`, 
        dur: 20000,
        easing: 'linear'
    });
    setTimeout(() => {
        sky.removeAttribute('animation'); 
        isRotating = false; 
        rightArrow.setAttribute('visible', 'true'); 
        shanthi.setAttribute('visible', 'true'); 
        straightArrow.setAttribute('visible', 'true');
        mainblock.setAttribute('visible', 'true'); 
       leftArrow.setAttribute('visible', 'true');
       bankblock.setAttribute('visible', 'true'); 
    }, 20000); 
}

    </script>
</body>
</html>